<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="tune" element="pages" type="acquisition" >
  <group size="630 175"
    style="Heading1"
    label="Probe tune"
    vc2="mtune('stop')"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="tune"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    rows="1"
    columns="1"
    >
    <group loc="5 120" size="275 40"
      style="Heading1"
      label="Display scans"
      show="mtune('defProbe',1,0):$SHOW"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="Downsample"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <check loc="85 15" size="90 20"
        style="Label1"
        label="Background"
        vq="disp2"
        vc="disp2=2"
        vc2="disp2=1"
        set="$VALUE=(disp2=2)"
        show="$ENABLE=disp2*2 -1"
        />
      <check loc="180 15" size="85 20"
        style="Label1"
        label="Difference"
        vq="disp3"
        vc="disp3=2"
        vc2="disp3=1"
        set="$VALUE=(disp3=2)"
        show="$ENABLE=disp3*2 -1"
        />
      <check loc="10 15" size="75 20"
        style="Label1"
        label="Current"
        vq="disp1"
        vc="disp1=2"
        vc2="disp1=1"
        set="$VALUE=(disp1=2)"
        />
    </group>
    <group loc="285 125" size="155 40"
      vq="acqmode probe procdim"
      show="mtune('defProbe',1,0):$e  if ($e and acqmode='' and procdim=1) then $SHOW=1 else $SHOW=0 endif"
      border="None"
      tab="no"
      enable="no"
      useref="false"
      subtype="Untitled"
      rows="1"
      columns="1"
      >
      <button loc="0 0" size="155 35"
        style="Heading2"
        label="Save as background"
        vc="mtune('savebg')"
        bg="transparent"
        justify="Center"
        decor1="yes"
        />
    </group>
    <group loc="10 120" size="410 50"
      style="Heading1"
      label="defProbe"
      vq="probe"
      show="mtune('defProbe',0,1):$SHOW"
      border="RaisedBevel"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="Downsample"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <label loc="5 25" size="235 20"
        style="Label1"
        label="a probe must be defined"
        justify="Left"
        />
      <label loc="5 5" size="235 20"
        style="Label1"
        label="In order to subtract a background scan,"
        justify="Left"
        />
      <button loc="250 5" size="150 40"
        style="Heading2"
        label="Define probe"
        vc="ProbePopup"
        bg="transparent"
        justify="Center"
        decor1="yes"
        />
    </group>
    <menu loc="120 90" size="125 20"
      style="PlainText"
      label="Display"
      vq="dmg"
      vc="$VALUE"
      set="$VALUE=dmg"
      editable="No"
      >
      <mlabel 
        label="Absolute value"
        chval="av"
        />
      <mlabel 
        label="Power"
        chval="pwr"
        />
      <mlabel 
        label="dB"
        chval="db"
        />
    </menu>
    <button loc="160 65" size="40 20"
      style="Heading2"
      label="-20"
      vc="vp=vp-20"
      bg="transparent"
      justify="Center"
      decor1="yes"
      />
    <label loc="10 90" size="50 20"
      style="Label1"
      label="Display"
      justify="Left"
      />
    <button loc="210 45" size="80 20"
      style="Heading2"
      label="Autoscale"
      vc="vsadj"
      bg="transparent"
      justify="Center"
      decor1="yes"
      />
    <label loc="10 15" size="110 20"
      style="Label1"
      label="Center Frequency"
      />
    <label loc="10 45" size="100 20"
      style="Label1"
      label="Vertical scale"
      justify="Left"
      />
    <label loc="10 65" size="100 20"
      style="Label1"
      label="Vertical position"
      justify="Left"
      />
    <button loc="120 65" size="40 20"
      style="Heading2"
      label="+20"
      vc="vp=vp+20"
      bg="transparent"
      justify="Center"
      decor1="yes"
      />
    <button loc="160 45" size="40 20"
      style="Heading2"
      label="/2"
      vc="vs=vs/2"
      bg="transparent"
      justify="Center"
      decor1="yes"
      />
    <button loc="120 45" size="40 20"
      style="Heading2"
      label="*2"
      vc="vs=vs*2"
      bg="transparent"
      justify="Center"
      decor1="yes"
      />
    <entry loc="360 33" size="60 20"
      style="PlainText"
      vq="tunesw"
      vc="mtune('setspan',$VALUE*1e6)"
      set="$VALUE=tunesw*1e-6"
      digits="1"
      disable="Grayed out"
      />
    <entry loc="360 63" size="60 20"
      style="PlainText"
      vq="tpwrf"
      vc="mtune('setpwr',$VALUE)"
      set="$VALUE=tpwrf"
      digits="1"
      disable="Grayed out"
      />
    <filemenu loc="120 13" size="80 20"
      style="PlainText"
      label="Center Frequency"
      vq="tchan"
      vc="mtune('setnuc','$VALUE' )"
      set="mtune('getnuc'):$VALUE"
      file="$VALUE=userdir+'/persistence/mtune_nuc'"
      type="file"
      bg="VJBackground"
      editable="No"
      statshow="yes"
      elastic="no"
      display="yes"
      />
    <button loc="480 13" size="130 40"
      style="Heading2"
      label="Start Probe Tune"
      vc="mtune('start')"
      bg="transparent"
      justify="Center"
      decor1="yes"
      />
    <button loc="480 63" size="130 40"
      style="Heading2"
      label="Stop Probe Tune"
      vc="mtune('stop')"
      bg="transparent"
      justify="Center"
      decor1="yes"
      />
    <button loc="480 113" size="130 40"
      style="Heading2"
      label="Quit"
      vc="mtune('quit')"
      bg="transparent"
      justify="Center"
      decor1="yes"
      />
    <entry loc="210 13" size="80 20"
      style="PlainText"
      vq="tn"
      vc="mtune('setnuc','$VALUE' )"
      set="mtune('getnuc'):$VALUE"
      digits="0"
      disable="Grayed out"
      />
    <label loc="420 13" size="40 20"
      style="Label1"
      label="MHz"
      justify="Left"
      />
    <label loc="420 33" size="40 20"
      style="Label1"
      label="MHz"
      justify="Left"
      />
    <entry loc="360 13" size="60 20"
      style="PlainText"
      vq="sfrq"
      vc="mtune('setfreq',$VALUE)"
      set="mtune('getfreq'):$VALUE"
      digits="2"
      disable="Grayed out"
      />
    <label loc="310 13" size="50 20"
      style="Label1"
      label="Freq"
      justify="Left"
      />
    <label loc="310 33" size="50 20"
      style="Label1"
      label="Span"
      justify="Left"
      />
    <label loc="310 63" size="50 20"
      style="Label1"
      label="Power"
      justify="Left"
      />
  </group>
</template>
